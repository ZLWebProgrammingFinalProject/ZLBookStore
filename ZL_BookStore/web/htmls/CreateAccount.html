<!DOCTYPE HTML>
<html>
    <head>
        <title>ZL BookStore - Create Account</title>
        <link rel="stylesheet" type="text/css" href="http://localhost:8080/ZL_BookStore/styles/lzStyles.css">
    </head>
    
    <div class="top">
         <p id="companyName">ZL Book Store</p> 
    <div id="header">
    <form action="http://www.localhost:8080/ZL_BookStore/CreateAccount" method="post" >
        <input name="searchWords" type="search" placeholder="Book name"/>
        <select name="books">
            <option value="all" selected="selected">all</option>  
            <option value="Education">Education</option>
            <option value="SciFi">SciFi</option>
            <option value="Romance">Romance</option>
            <option value="Classic">Classic</option>
            <option value="Kids">Kids</option>
        </select>
        <input type="submit" value="Search"/>
    </form>
    <br />
    </div>
    
    <div id="user">
        <a href="CreateAccount.html" id="createAccount">Create new account</a> |
        <a href="login.html" id="login" >Login</a><br/>    
    </div>
    
    <div id="myAccount">
        <a href="../redirect.jsp" id="homePage">Home page</a> |
        <a href="myAccount.html" id="account">My account</a>
    </div>
    
    </div>
    
    
    
    <div class="main">
    </div>
    
    
    <div class="left">
         <h2>Create new account</h2>
      <form action="http://www.localhost:8080/ZL_BookStore/CreateAccount" method="post" onsubmit="return checkForm(this);"> <!-- CHANGE ACTION TO THE SERVLET FILE --->
        Username: <input type="text" name="username"/> <br />
        Password: <input type="password" name="pwd1"/> <br />
        Confirm Password: <input type="password" name="pwd2"/> <br />
    <input type="submit" value="Submit"/>
    </form>
         
         <div id="passwordHint">
            <p>Password must follow the following:<br />
                *at least one number <br />
                *at least one lowercase <br />
                *at least one uppercase letter <br />
                *at least six characters
            </p>
         </div>
    </div>
    
    
    
    <script type="text/javascript">

  function checkPassword(str)
  {
    var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}$/;
    return re.test(str);
  }

  function checkForm(form)
  {
    if(form.username.value == "") {
      alert("Error: Username cannot be blank!");
      form.username.focus();
      return false;
    }
    re = /^\w+$/;
    if(!re.test(form.username.value)) {
      alert("Error: Username must contain only letters, numbers and underscores!");
      form.username.focus();
      return false;
    }
    if(form.pwd1.value != "" && form.pwd1.value == form.pwd2.value) {
      if(!checkPassword(form.pwd1.value)) {
        alert("Password must contain only letters, numbers and underscores!");
        form.pwd1.focus();
        return false;
      }
    } else {
      alert("Error: Please check that you've entered and confirmed your password!");
      form.pwd1.focus();
      return false;
    }
    return true;
  }

</script>
</html>




